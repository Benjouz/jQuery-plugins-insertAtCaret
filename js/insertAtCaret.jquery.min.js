!function(a){a.fn.insertAtCaret=function(b){var c=a(this)[0].selectionStart,d=a(this)[0].selectionEnd,e=a(this)[0].scrollTop;a(this).val(a(this).val().substring(0,c)+b+a(this).val().substring(d,a(this).val().length)),a(this).focus(),a(this)[0].selectionStart=c+b.length,a(this)[0].selectionEnd=c+b.length,a(this)[0].scrollTop=e}}(jQuery);